<!DOCTYPE html>

<style>
    label, input {
        display: block;
    }

</style>

<script>
    function edit(cmdName) {
        document.getElementById("edit-form-" + cmdName).style.display = "block";
    }
</script>

<form action="/create" method="post">
    <fieldset>
        <legend>Command</legend>
        <label for="name">Name</label>
        <input name="name" id="name" type="text" value="name"/>
        <label for="restCall">Shortcut</label>
        <input name="restCall" id="restCall" type="text" value="rc"/>
        <label for="desc">Description</label>
        <input name="desc" id="desc" type="text" value="desc"/>
        <input type="submit" value="Create">
    </fieldset>
</form>

<table>
    <tr>
        <th>Name</th>
        <th>RESTcall</th>
        <th>Description</th>
        <th>Creator</th>
        <th>User</th>
        <th>Created</th>
        <th>Updated</th>
        <th>Delete</th>
    </tr>
    {%.repeated section @ %}
    <tr>
        <td>
            {%.section Name%}<a href="javascript:edit('{% @ %}');">{% @ %}</a>
                <form action="/update" method="post" style="display: none;" id="edit-form-{% @ %}">
                    <fieldset>
                        <legend>Command</legend>
                        <label for="edit-name">Name</label>
                        <input name="edit-name" id="edit-name" type="text" value="{% Name %}" readonly/>
                        <label for="edit-restCall">Shortcut</label>
                        <input name="edit-restCall" id="edit-restCall" type="text" value="{% RESTcall %}"/>
                        <label for="edit-desc">Description</label>
                        <input name="edit-desc" id="edit-desc" type="text" value="{% Desc %}"/>
                        <input type="submit" onclick="hide('{% @ %}')" value="Update">
                    </fieldset>
                </form>
            {%.or%}no name available{%.end%}
        </td>
        <td>{%.section RESTcall%}{%@|html%}{%.or%}no RESTcall available{%.end%}</td>
        <td>{%.section Desc%}{%@|html%}{%.or%}no description availabile{%.end%}</td>
        <td>{%Creator%}</td>
        <td>{%User%}</td>
        <td>{%Created%}</td>
        <td>{%Updated%}</td>
        <td><a href="http://localhost:8080/cmdDelete?name={% Name %}">X</a></td>
    </tr>
    {%.end%}
</table>
